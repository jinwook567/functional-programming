# 메서드 체인 대 함수 파이프라인.

- 파이프 라인은 함수를 연결하는 기법. 한 함수의 출력이 다른 함수의 입력이 되는 느슨하게 배열된 방향성 함수 순차열
- 메서드 체이닝도 마찬가지로 방향성을 가지는 함수 순차열이라고 표현할 수 있지만,  
  느슨하게 결합되어 있지 않다. 객체에 단단하게 결합되어 있다.
- 체이닝을 할 수 있도록 구현된 메소드만 가능하며, 중간에 독립적인 함수를 삽입할 수 없다.
- 파이프라인은 조건만 맞으면 어떠한 함수라도 유연하게 결합할 수 있다.

# 파이프라인을 만들 수 있는 조건

- 위에서 언급한 조건이란, 입력과 출력이 호환되는지 여부이다. (함수의 출력 결과를 다음 함수의 입력으로 전달하기 때문.)
- 호환 여부는 형식과 항수로 결정한다.
  - 형식: JS는 덕타이핑을 따른다. TS도 마찬가지이다. 특정 속성을 가진 객체를 인자로 받는 경우에, 인자로 삽입되는 객체는 특정 속성만 보유하면 된다. 추가적으로 다른 속성을 가져도 관계없다.
  - 항수: 함수가 받는 인자의 개수(함수의 길이). FP에서는 함수의 인수를 가능한 적게 만드는 것이 좋다. 유연하고 다목적으로 사용할 수 있으므로.
    - 책에서는 여러개의 자료구조를 다룰 경우, 배열이나 객체가 아닌 튜플을 추천한다. 그 이유는 아래와 같다.
      - 튜플은 불변하다.
      - 올바른 형식으로 생성 가능. (String, Boolean) 형식으로 정의할 경우, (123, '')과 같은 값은 들어갈 수 없다.
      - 이형 배열 생성 방지. 배열은 태생이 동일한 형식을 답는 객체이다. 배열 내 다양한 형식이 삽입되어 있으면, 필수적으로 방어 코드가 수반된다.

# 커링

- 모든 매개변수가 명시된 커리된 함수에, 일부 인수만 넣어 호출하면 함수가 실행되는 것이 아니라, 나머지 인수가 다 채워지기를 기다리는 함수가 반환된다.
- 왜 쓰냐?
  - 팩토리 함수 모방
  - 재사용 가능한 함수 템플릿(함수 합성을 단순화)

# 부분 적용

- 커링은 부분 적용이 받아야 할 남은 인자가 없을 때 까지 자동으로 적용된 것이라고 할 수 있다.
- 부분 적용은 인자가 적용된 함수를 리턴하는데, 이 때 함수의 인자의 숫자보다 호출자에서 삽입되는 매개변수의 크기가 작다고 해서 새롭게 함수를 리턴하지 않는다.  
  부족한 인자는 undefined로 적용된다.

# 함수 합성

- 순수 함수들은 합성하기 이전에는, 부품에 지나지 않는다. 부품들을 조립해서 물건을 만들어야한다. FP에서는 함수 합성이 이 역할을 수행한다.
- 함수의 서술부와 평가부가 분리된다. 합성된 함수는 인자를 받아서 실행되기 전까지는 평가되지 않는다.(당연한 말이긴 하다. 함수들을 합성한 함수 이므로.)

# 순수 함수와 불순 함수 다루기

- 실 세계에서 불순 함수가 없을 수는 없다. 다만 순수 함수와 불순 함수를 분리하자.
- 어떤 불순한 함수가 있다면, 해당 함수에서 순수 함수로 추출할 수 있는 부분은 추출하자.
- 불순 함수를 실행하는 부분은 forEach 메소드를 이용하자. 사이드 이펙트를 내는데 주로 사용되는 메소드이다.

# 다양한 함수 조합기

- compose, pipe와 같이 제어 로직처럼 작동시킬 수 있는 고계 함수.
- 함수 조합기를 사용해서 if-else문과 같은 절차적 제어 장치를 걷어낼 수 있다.
- 조합기는 순수하기에 조합기를 조합할 수 있다.

## 항등(identity)

- 주어진 인수와 똑같은 값을 반환함.
- 함수 인수를 평가하는 시점에 데이터를 고계함수에게 제공

## tap

- 자신을 함수에 넘기고, 자신을 돌려받음.

## 선택(alt)

- 기본 응답을 제공하는 단순 조건 로직 수행
- 2개의 함수를 받고, 만약 첫 번째 함수의 결과가 false, null, undefined라면 두 번째 함수 결과를 반환한다.

## 순차열(seq)

- 함수 순차열을 순회한다. 2개 이상의 함수를 인수로 받는다.
- 동일한 값에 대해서 함수를 여러번 실행시켜야 할 때 사용된다.

## 포크(fork)

- 3개의 함수를 인수로 받는다. 두 번째 함수의 결과, 세 번째 함수의 결과를 첫 번째 함수(join)에 전달한다.
